# 线程间共享数据

- `Static`
- `Box::leak()`
- `Arc<T>`

## Static

- `static` 变量的值在整个程序运行期间都有效
    - 拥有 `'static` 声明周期
    - 只能用常量值来初始化
    - 代表了一个内存地址，可以进行引用
    - 在程序结束时不会调用`drop`
    - 可以是`mut`的，或非`mut`的

## Box::leak()

主动泄露内存分配

- 释放`Box`的所有权，并承诺永远不会`drop`它
- 从 `leak` 这一刻起，这个`Box`就一直存在了
    - 因为没有所有者，只要程序运行就可以被任何线程借用


- 缺点：他是内存泄露，一个程序里不要用太多

## Arc\<T>

原子引用计数 (atomically reference counted)

- 与`Rc<T>` 类似，但`Arc`保证对引用计数器的修改是不可分割的原子操作
- 可以在多线程环境中
